{% extends "base.html" %}

{% block content %}
<!-- Hero Section -->
<section class="hero-section">
    <div class="container">
        <h1 class="hero-title">å¯¶å¯å¤¢å¡ç‰Œç«¶æŠ€å ´</h1>
        <p class="hero-subtitle">å°ˆæ¥­è³½äº‹ç®¡ç† Ã— ELO ç©åˆ†ç³»çµ± Ã— æ•¸æ“šåˆ†æ</p>

        {% if not current_user.is_authenticated %}
            <a href="{{ url_for('auth.login') }}" class="btn btn-primary" style="margin-right: 1rem;">
                ç™»å…¥
            </a>
            <a href="{{ url_for('auth.register') }}" class="btn btn-outline" style="margin-right: 1rem;">
                è¨»å†Š
            </a>
        {% endif %}
        <a href="{{ url_for('tournament.list') }}" class="btn btn-secondary">
            ç€è¦½è³½äº‹
        </a>
    </div>
</section>

<!-- Live Tournaments -->
{% if live %}
<section class="section">
    <div class="container">
        <h2 class="section-title">ğŸ”´ é€²è¡Œä¸­è³½äº‹</h2>
        <div class="grid grid-2">
            {% for tournament in live %}
            <div class="card tournament-card">
                <span class="status-badge status-live">é€²è¡Œä¸­</span>
                <div class="card-header">{{ tournament.name }}</div>
                <div class="card-body">
                    <p><strong>æ—¥æœŸ:</strong> {{ tournament.date.strftime('%Y-%m-%d') }}</p>
                    <p><strong>ç•¶å‰å›åˆ:</strong> ç¬¬ {{ tournament.current_round }} å›åˆ</p>
                    <p><strong>åƒè³½äººæ•¸:</strong> {{ tournament.participants|length }} äºº</p>
                    <a href="{{ url_for('tournament.view', tournament_id=tournament.id) }}" class="btn btn-primary" style="margin-top: 1rem;">
                        è§€çœ‹è³½äº‹
                    </a>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
</section>
{% endif %}

<!-- Upcoming Tournaments -->
{% if upcoming %}
<section class="section">
    <div class="container">
        <h2 class="section-title">ğŸ“… å³å°‡èˆ‰è¾¦</h2>
        <div class="grid grid-3">
            {% for tournament in upcoming %}
            <div class="card tournament-card">
                <span class="status-badge status-upcoming">å³å°‡é–‹å§‹</span>
                <div class="card-header">{{ tournament.name }}</div>
                <div class="card-body">
                    <p><strong>æ—¥æœŸ:</strong> {{ tournament.date.strftime('%Y-%m-%d') }}</p>
                    <p><strong>ä¸»è¾¦:</strong> {{ tournament.organizer.username }}</p>
                    <a href="{{ url_for('tournament.view', tournament_id=tournament.id) }}" class="btn btn-outline" style="margin-top: 1rem;">
                        æŸ¥çœ‹è©³æƒ…
                    </a>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
</section>
{% endif %}

<!-- Top Players -->
{% if top_players %}
<section class="section">
    <div class="container">
        <h2 class="section-title">ğŸ† é ‚å°–ç©å®¶</h2>
        <div class="grid grid-3">
            {% for player in top_players %}
            <div class="card" style="text-align: center;">
                <div style="font-size: 2rem; font-weight: 900; color: var(--primary-blue); margin-bottom: 0.5rem;">
                    #{{ loop.index }}
                </div>
                <div class="card-header">{{ player.name }}</div>
                <div class="card-body">
                    <p style="font-size: 1.5rem; font-weight: 700; color: var(--accent-purple); margin: 0.5rem 0;">
                        {{ "%.1f"|format(player.elo) }}
                    </p>
                    <p><strong>å‹å ´:</strong> {{ player.wins }}W - {{ player.losses }}L</p>
                    <p><strong>å‹ç‡:</strong> {{ "%.1f"|format(player.win_rate * 100) }}%</p>
                    <p><strong>ç‹€æ…‹:</strong> <span style="color: {% if player.status == 'Official' %}var(--success){% else %}var(--warning){% endif %};">{{ player.status }}</span></p>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
</section>
{% endif %}

<!-- Features Section -->
<section class="section" style="background: var(--bg-secondary); margin-top: 3rem; padding: 3rem 0;">
    <div class="container">
        <h2 class="section-title" style="text-align: center;">å¹³å°åŠŸèƒ½</h2>
        <div class="grid grid-3">
            <div class="card" style="text-align: center;">
                <div style="font-size: 3rem; margin-bottom: 1rem;">âš”ï¸</div>
                <div class="card-header">Swiss é…å°ç³»çµ±</div>
                <div class="card-body">
                    <p>ç¬¦åˆå®˜æ–¹è¦ç¯„çš„ç‘å£«åˆ¶é…å°ï¼Œè‡ªå‹•é¿å…é‡è¤‡å°æˆ°ï¼Œæ”¯æ´ Bye èˆ‡è¨ˆæ™‚åŠŸèƒ½</p>
                </div>
            </div>
            <div class="card" style="text-align: center;">
                <div style="font-size: 3rem; margin-bottom: 1rem;">ğŸ“Š</div>
                <div class="card-header">ELO ç©åˆ†ç³»çµ±</div>
                <div class="card-body">
                    <p>å³æ™‚è¨ˆç®—ç©å®¶èˆ‡ç‰Œçµ„ ELOï¼Œæä¾›å¤šç¶­åº¦é›·é”åœ–èˆ‡æ•¸æ“šåˆ†æ</p>
                </div>
            </div>
            <div class="card" style="text-align: center;">
                <div style="font-size: 3rem; margin-bottom: 1rem;">ğŸ¯</div>
                <div class="card-header">æ•¸æ“šå„€è¡¨æ¿</div>
                <div class="card-body">
                    <p>è³½å­£çµ±è¨ˆã€ç‰Œçµ„ä½¿ç”¨ç‡ã€å°æˆ°è¨˜éŒ„æŸ¥è©¢ï¼Œä¸€ç›®ç­ç„¶</p>
                </div>
            </div>
        </div>
    </div>
</section>
{% endblock %}
