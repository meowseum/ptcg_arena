{% extends "base.html" %}

{% block content %}
<div class="container" style="margin-top: 2rem;">
    <h1 style="margin-bottom: 2rem;">ğŸ› ï¸ ç®¡ç†å“¡æ§åˆ¶å°</h1>

    <!-- Statistics Cards -->
    <div class="grid grid-4" style="margin-bottom: 3rem;">
        <div class="card" style="text-align: center;">
            <div style="font-size: 3rem; color: var(--primary-blue); margin-bottom: 0.5rem;">{{ total_users }}</div>
            <div style="font-size: 1.1rem; color: var(--text-secondary);">è¨»å†Šç”¨æˆ¶</div>
        </div>
        <div class="card" style="text-align: center;">
            <div style="font-size: 3rem; color: var(--accent-purple); margin-bottom: 0.5rem;">{{ total_tournaments }}</div>
            <div style="font-size: 1.1rem; color: var(--text-secondary);">ç¸½è³½äº‹æ•¸</div>
        </div>
        <div class="card" style="text-align: center;">
            <div style="font-size: 3rem; color: var(--warning); margin-bottom: 0.5rem;">{{ total_players }}</div>
            <div style="font-size: 1.1rem; color: var(--text-secondary);">ç©å®¶æª”æ¡ˆ</div>
        </div>
        <div class="card" style="text-align: center;">
            <div style="font-size: 3rem; color: var(--success); margin-bottom: 0.5rem;">{{ total_matches }}</div>
            <div style="font-size: 1.1rem; color: var(--text-secondary);">å°æˆ°è¨˜éŒ„</div>
        </div>
    </div>

    <!-- Quick Actions -->
    <div class="card" style="margin-bottom: 2rem;">
        <div class="card-header">å¿«é€Ÿæ“ä½œ</div>
        <div class="card-body">
            <a href="{{ url_for('tournament.list') }}" class="btn btn-primary" style="margin-right: 1rem;">
                âš”ï¸ ç®¡ç†è³½äº‹
            </a>
            <a href="{{ url_for('admin.users') }}" class="btn btn-secondary" style="margin-right: 1rem;">
                ğŸ‘¥ ç®¡ç†ç”¨æˆ¶
            </a>
            <a href="{{ url_for('analytics.leaderboard') }}" class="btn btn-outline">
                ğŸ† æŸ¥çœ‹æ’è¡Œæ¦œ
            </a>
        </div>
    </div>

    <!-- Recent Users -->
    {% if recent_users %}
    <div class="card">
        <div class="card-header">æœ€è¿‘è¨»å†Šç”¨æˆ¶</div>
        <div class="card-body">
            <table style="width: 100%; border-collapse: collapse;">
                <thead>
                    <tr style="border-bottom: 1px solid var(--border-color); text-align: left;">
                        <th style="padding: 0.75rem;">ç”¨æˆ¶å</th>
                        <th style="padding: 0.75rem;">Email</th>
                        <th style="padding: 0.75rem;">è§’è‰²</th>
                        <th style="padding: 0.75rem;">è¨»å†Šæ™‚é–“</th>
                    </tr>
                </thead>
                <tbody>
                    {% for user in recent_users %}
                    <tr style="border-bottom: 1px solid var(--border-color);">
                        <td style="padding: 0.75rem;">{{ user.username }}</td>
                        <td style="padding: 0.75rem;">{{ user.email }}</td>
                        <td style="padding: 0.75rem;">
                            <span class="status-badge {% if user.role == 'admin' %}status-live{% elif user.role == 'organizer' %}status-upcoming{% else %}status-past{% endif %}">
                                {{ user.role }}
                            </span>
                        </td>
                        <td style="padding: 0.75rem;">{{ user.created_at.strftime('%Y-%m-%d %H:%M') if user.created_at else 'N/A' }}</td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
    {% endif %}
</div>
{% endblock %}
